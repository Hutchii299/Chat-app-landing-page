.container {
  //   background-color: red;
}

.left {
  position: relative;
  z-index: 2;
  width: $iphone-width;
  height: calc($iphone-width * $aspect-ratio-phone);
  justify-self: flex-end;
  margin-right: 9rem;

  @include respond(desktop) {
    margin-top: 6rem;
    justify-self: center;
    margin-right: 0;
  }
}

.phone {
  position: relative;
  background-color: $color-background;
  width: 100%;
  height: 100%;
  border-radius: 3rem;
  border: $phone-border white solid;
  box-shadow: 0 4rem 5rem -2rem rgba($color: #000, $alpha: 0.3);
  overflow: hidden;

  &-heading {
    position: relative;
    display: flex;
    justify-content: flex-start;
    align-items: flex-end;
    height: 13%;
    width: inherit;
    border-radius: 0.5rem;
    background-image: linear-gradient(
      to right,
      $color-grad-violet,
      $color-grad-magenta
    );

    :not(:last-child) {
      margin-right: 0.6rem;
    }

    &-tab {
      $height-tab: 4rem;
      $tab-border-radius: 1.7rem;

      width: 65%;
      height: $height-tab;
      background-color: white;
      border-radius: 0 0 $tab-border-radius $tab-border-radius;

      position: absolute;
      top: calc(($height-tab / 2) * -1);
      left: 50%;
      transform: translateX(-50%);
    }

    &-container {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      width: inherit;

      padding: 0 1.2rem;
      margin-bottom: 1rem;
    }
  }

  &-icon {
    transform: rotate(90deg);
    height: 1rem;
    stroke: white;
  }

  &-avatar {
    height: 3rem;
    border: 1px white solid;
    border-radius: 50%;
  }

  &-user-details {
    display: flex;
    flex-direction: column;
    justify-content: center;

    &-name {
      line-height: 1;
      font-size: 1.5rem;
      font-family: 'Rubik', sans-serif;
      font-weight: 400;
      color: white;
      margin-bottom: 0.6rem;
    }
    &-subheading {
      line-height: 1;
      color: $color-sub-heading;
      font-weight: 400;
      font-size: 1.1rem;
    }
  }

  &__content-container {
    padding: 1.2rem 0.8rem;
    display: flex;
    flex-direction: column;
    height: 85%;
  }

  &__messages {
    // background-color: aqua;
    position: relative;
    display: flex;
    flex-direction: column;

    &-msg {
      padding: 0.5rem 0.8rem;
      max-width: 65%;
      margin-bottom: 1rem;
      opacity: 0;
      transition: opacity 0.8s;

      &-left {
        border-radius: 1rem 1rem 1rem 0.3rem;
        align-self: flex-start;
        color: $color-left-chat;
        background-color: $color-left-background;
      }

      &-right {
        border-radius: 1rem 1rem 0.3rem 1rem;
        align-self: flex-end;
        color: $color-right-chat;
        background-color: white;
        box-shadow: 0 1rem 2rem -0.5rem rgba($color: #000000, $alpha: 0.2);
      }
    }

    &-image-container {
      max-width: 70%;
      margin-bottom: 1rem;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0 1rem;
      align-self: flex-end;
      margin-top: 1rem;
      opacity: 0;
      transition: opacity 0.8s;

      &-img {
        width: 100%;
        border-radius: 1.2rem;
      }
    }

    &-pay {
      display: flex;
      align-items: center;
      max-width: 75%;
      background-image: linear-gradient(
        to left,
        $color-grad-violet,
        $color-grad-magenta
      );
      padding: 1rem;
      line-height: 1;
      margin-bottom: 1rem;
      border-radius: 1rem;
      opacity: 0;
      transition: opacity 0.8s;

      :not(:last-child) {
        margin-right: 1rem;
      }

      &__circle {
        width: 1.5rem;
        height: 1.5rem;
        border: 1px $color-sub-heading solid;
        border-radius: 50%;
      }
      &__text {
        color: white;
      }
      &__money {
        margin-left: auto;
        color: white;
        font-weight: 500;
      }
    }
  }

  &__text-input {
    position: relative;
    width: 100%;
    margin-top: auto;

    &__text {
      padding: 1.2rem 2.5rem;
      font-family: inherit;
      border-radius: 10rem;
      border: none;
      width: inherit;
      background-color: white;

      &::placeholder {
        color: $color-placeholder-text;
        font-size: 1.2rem;
      }
      &:focus {
        outline: none;
      }
    }
    &__btn {
      position: absolute;
      top: 50%;
      right: 1rem;
      background-color: $color-main-heading;
      width: 3rem;
      height: 3rem;
      border-radius: 50%;
      padding: 0.5rem;
      border: none;
      transform: translateY(-50%);
    }

    &-icon {
      transform: rotate(-90deg);
      height: 1rem;
      stroke-width: 2px;
      stroke: white;
    }
  }
}

.heading {
  font-size: 4rem;
  font-family: inherit;
  font-weight: 500;
  color: $color-main-heading;
  line-height: 1;
  margin-bottom: 3rem;

  @include respond(desktop) {
    // font-size: 5rem;
  }
}

.description {
  width: 62%;
  line-height: 1.7;
  font-size: 1.6rem;

  @include respond(desktop) {
    text-align: center;
    width: 80%;
  }
}

.right {
  position: relative;
  z-index: 2;
  justify-self: flex-start;

  @include respond(desktop) {
    justify-self: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 7rem 0 6rem 0;
  }
}

.loading-bubble {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  left: 2rem;
  bottom: 2rem;
  width: 4rem;
  padding: 1rem;
  background-color: #e5e4e9;
  border-radius: 5rem;
  opacity: 1;
  transition: opacity 0.2s;

  :not(:last-child) {
    margin-right: 0.2rem;
  }

  &::before {
    content: '';
    position: absolute;
    bottom: -0.1rem;
    left: -0.1rem;
    height: 1rem;
    width: 1rem;
    border-radius: 50%;
    background-color: inherit;
  }

  &::after {
    content: '';
    position: absolute;
    bottom: -0.6rem;
    left: -0.6rem;
    height: 0.5rem;
    width: 0.5rem;
    border-radius: 50%;
    background-color: inherit;
  }

  &__dot {
    position: relative;
    height: 0.5rem;
    width: 0.5rem;
    border-radius: 50%;
    background-color: #b7b6bb;
    z-index: 5;

    &-1 {
      animation: pulse 1s linear infinite;
    }
    &-2 {
      animation: pulse 1s linear 0.8s infinite;
    }
    &-3 {
      animation: pulse 1s linear 1.6s infinite;
    }
  }
}

.attribution {
  font-size: 11px;
  text-align: center;
  color: $color-main-heading;
}
.attribution a {
  color: hsl(228, 45%, 44%);
}
